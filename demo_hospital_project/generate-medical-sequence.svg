<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="603px" preserveAspectRatio="none" style="width:723px;height:603px;" version="1.1" viewBox="0 0 723 603" width="723px" zoomAndPan="magnify"><defs><filter height="300%" id="f1eo6crciacpc5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="70.1201" y2="532.6816"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="177" x2="177" y1="70.1201" y2="532.6816"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="344" x2="344" y1="70.1201" y2="532.6816"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="485" x2="485" y1="70.1201" y2="532.6816"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="583" x2="583" y1="70.1201" y2="532.6816"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="698" x2="698" y1="70.1201" y2="532.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="5" y="67.0439">病例接口</text><path d="M15.5,23 L15.5,47 M15.5,35 L32.5,35 " fill="none" filter="url(#f1eo6crciacpc5)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="44.5" cy="35" fill="#FEFECE" filter="url(#f1eo6crciacpc5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="5" y="547.7256">病例接口</text><path d="M15.5,554.8018 L15.5,578.8018 M15.5,566.8018 L32.5,566.8018 " fill="none" filter="url(#f1eo6crciacpc5)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="44.5" cy="566.8018" fill="#FEFECE" filter="url(#f1eo6crciacpc5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="139" y="67.0439">病例控制类</text><ellipse cx="177" cy="35" fill="#FEFECE" filter="url(#f1eo6crciacpc5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="173,23,179,18,177,23,179,28,173,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="139" y="547.7256">病例控制类</text><ellipse cx="177" cy="566.8018" fill="#FEFECE" filter="url(#f1eo6crciacpc5)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="173,554.8018,179,549.8018,177,554.8018,179,559.8018,173,554.8018" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1eo6crciacpc5)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="300" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="307" y="55.0439">病例服务类</text><rect fill="#FEFECE" filter="url(#f1eo6crciacpc5)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="300" y="531.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="307" y="554.7256">病例服务类</text><rect fill="#FEFECE" filter="url(#f1eo6crciacpc5)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="441" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="448" y="55.0439">病例工具类</text><rect fill="#FEFECE" filter="url(#f1eo6crciacpc5)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="441" y="531.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="448" y="554.7256">病例工具类</text><rect fill="#FEFECE" filter="url(#f1eo6crciacpc5)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="539" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="546" y="55.0439">病例数据类</text><rect fill="#FEFECE" filter="url(#f1eo6crciacpc5)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="539" y="531.6816"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="546" y="554.7256">病例数据类</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="674" y="67.0439">数据库</text><path d="M680,15 C680,5 698,5 698,5 C698,5 716,5 716,15 L716,41 C716,51 698,51 698,51 C698,51 680,51 680,41 L680,15 " fill="#FEFECE" filter="url(#f1eo6crciacpc5)" style="stroke:#000000;stroke-width:1.5;"/><path d="M680,15 C680,25 698,25 698,25 C698,25 716,25 716,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="674" y="547.7256">数据库</text><path d="M680,560.8018 C680,550.8018 698,550.8018 698,550.8018 C698,550.8018 716,550.8018 716,560.8018 L716,586.8018 C716,596.8018 698,596.8018 698,596.8018 C698,596.8018 680,596.8018 680,586.8018 L680,560.8018 " fill="#FEFECE" filter="url(#f1eo6crciacpc5)" style="stroke:#000000;stroke-width:1.5;"/><path d="M680,560.8018 C680,570.8018 698,570.8018 698,570.8018 C698,570.8018 716,570.8018 716,560.8018 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="165,99.8745,175,103.8745,165,107.8745,169,103.8745" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="36" x2="171" y1="103.8745" y2="103.8745"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="43" y="99.0181">传入填充的数据</text><polygon fill="#A80036" points="332,149.3833,342,153.3833,332,157.3833,336,153.3833" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="177" x2="338" y1="153.3833" y2="153.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="184" y="130.7725">调用生成病例文件的方法</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="184" y="148.5269">传入填充的数据</text><line style="stroke:#A80036;stroke-width:1.0;" x1="344" x2="386" y1="185.1377" y2="185.1377"/><line style="stroke:#A80036;stroke-width:1.0;" x1="386" x2="386" y1="185.1377" y2="198.1377"/><line style="stroke:#A80036;stroke-width:1.0;" x1="345" x2="386" y1="198.1377" y2="198.1377"/><polygon fill="#A80036" points="355,194.1377,345,198.1377,355,202.1377,351,198.1377" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="351" y="180.2813">校验参数是否完整</text><polygon fill="#A80036" points="473,243.6465,483,247.6465,473,251.6465,477,247.6465" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="344" x2="479" y1="247.6465" y2="247.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="351" y="225.0356">调用生成模板方法，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="351" y="242.79">拼接生成htm文件</text><polygon fill="#A80036" points="355,255.6465,345,259.6465,355,263.6465,351,259.6465" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="484" y1="259.6465" y2="259.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="361" y="275.5444">返回生成的字符串</text><line style="stroke:#A80036;stroke-width:1.0;" x1="344" x2="386" y1="311.1553" y2="311.1553"/><line style="stroke:#A80036;stroke-width:1.0;" x1="386" x2="386" y1="311.1553" y2="324.1553"/><line style="stroke:#A80036;stroke-width:1.0;" x1="345" x2="386" y1="324.1553" y2="324.1553"/><polygon fill="#A80036" points="355,320.1553,345,324.1553,355,328.1553,351,324.1553" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="351" y="306.2988">输出到文件</text><polygon fill="#A80036" points="571,351.9097,581,355.9097,571,359.9097,575,355.9097" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="344" x2="577" y1="355.9097" y2="355.9097"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="351" y="351.0532">插入新的病例数据</text><polygon fill="#A80036" points="686,383.6641,696,387.6641,686,391.6641,690,387.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="583" x2="692" y1="387.6641" y2="387.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="590" y="382.8076">数据插入数据库</text><polygon fill="#A80036" points="594,395.6641,584,399.6641,594,403.6641,590,399.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="588" x2="697" y1="399.6641" y2="399.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="600" y="415.562">返回插入的结果</text><polygon fill="#A80036" points="355,427.4185,345,431.4185,355,435.4185,351,431.4185" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349" x2="582" y1="431.4185" y2="431.4185"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="361" y="447.3164">插入是否成功</text><polygon fill="#A80036" points="188,459.1729,178,463.1729,188,467.1729,184,463.1729" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="182" x2="343" y1="463.1729" y2="463.1729"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="194" y="479.0708">返回生成病例的结果</text><polygon fill="#A80036" points="47,490.9272,37,494.9272,47,498.9272,43,494.9272" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41" x2="176" y1="494.9272" y2="494.9272"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="53" y="510.8252">返回标准结构的结果</text><!--MD5=[e0090c88a436f931b764742208fa9b03]
@startuml generate-medical-sequence
skinparam responseMessageBelowArrow true
boundary 病例接口 as b
control  病例控制类 as control
participant 病例服务类 as service
participant 病例工具类 as helper
participant 病例数据类 as mapper
database 数据库 as bd

b -> control : 传入填充的数据
control -> service : 调用生成病例文件的方法\n传入填充的数据
service -> service : 校验参数是否完整
service -> helper : 调用生成模板方法，\n拼接生成htm文件
helper -> service : 返回生成的字符串
service -> service : 输出到文件
service -> mapper : 插入新的病例数据
mapper -> bd : 数据插入数据库
bd -> mapper : 返回插入的结果
mapper -> service : 插入是否成功
service -> control : 返回生成病例的结果
control -> b : 返回标准结构的结果
@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 GMT+08:00 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>