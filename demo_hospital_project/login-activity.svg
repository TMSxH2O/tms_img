<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="527px" preserveAspectRatio="none" style="width:758px;height:527px;" version="1.1" viewBox="0 0 758 527" width="758px" zoomAndPan="magnify"><defs><filter height="300%" id="fxm510w4b6e45" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="279.125" cy="20" fill="#000000" filter="url(#fxm510w4b6e45)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fxm510w4b6e45)" height="36.3887" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="176" x="191.125" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="201.125" y="73.752">传入用户手机号和对应的密码</text><polygon fill="#FEFECE" filter="url(#fxm510w4b6e45)" points="237.625,106.3887,320.625,106.3887,332.625,118.3887,320.625,130.3887,237.625,130.3887,225.625,118.3887,237.625,106.3887" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="237.625" y="123.4832">传入的参数为空?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19" x="206.625" y="115.9717">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="332.625" y="115.9717">false</text><rect fill="#FF0000" filter="url(#fxm510w4b6e45)" height="36.3887" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="200" x="11" y="140.3887"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="21" y="164.1406">返回提示用户登录的参数不能为空</text><ellipse cx="111" cy="206.7773" fill="#FFFFFF" filter="url(#fxm510w4b6e45)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="104.8128" x2="117.1872" y1="200.5902" y2="212.9645"/><line style="stroke:#000000;stroke-width:2.5;" x1="117.1872" x2="104.8128" y1="200.5902" y2="212.9645"/><rect fill="#FEFECE" filter="url(#fxm510w4b6e45)" height="36.3887" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="128" x="383.25" y="140.3887"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="393.25" y="164.1406">通过手机号查询用户</text><polygon fill="#FEFECE" filter="url(#fxm510w4b6e45)" points="400.25,196.7773,494.25,196.7773,506.25,208.7773,494.25,220.7773,400.25,220.7773,388.25,208.7773,400.25,196.7773" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="400.25" y="213.8718">查询到的用户为空?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19" x="369.25" y="206.3604">true</text><rect fill="#FF0000" filter="url(#fxm510w4b6e45)" height="36.3887" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="241" y="230.7773"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="251" y="254.5293">返回用户名或密码错误</text><ellipse cx="311" cy="297.166" fill="#FFFFFF" filter="url(#fxm510w4b6e45)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="304.8128" x2="317.1872" y1="290.9788" y2="303.3532"/><line style="stroke:#000000;stroke-width:2.5;" x1="317.1872" x2="304.8128" y1="290.9788" y2="303.3532"/><rect fill="#FEFECE" filter="url(#fxm510w4b6e45)" height="36.3887" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="260" x="453.5" y="230.7773"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="240" x="463.5" y="254.5293">使用返回的用户密码盐对用户的密码进行校验</text><rect fill="#FEFECE" filter="url(#fxm510w4b6e45)" height="36.3887" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="116" x="525.5" y="287.166"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="535.5" y="310.918">校验密码是否正确</text><polygon fill="#FEFECE" filter="url(#fxm510w4b6e45)" points="547.5,343.5547,619.5,343.5547,631.5,355.5547,619.5,367.5547,547.5,367.5547,535.5,355.5547,547.5,343.5547" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="547.5" y="360.6492">密码校验正确?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19" x="516.5" y="353.1377">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="631.5" y="353.1377">false</text><rect fill="#FEFECE" filter="url(#fxm510w4b6e45)" height="36.3887" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="170" x="411" y="377.5547"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="150" x="421" y="401.3066">生成token用于校验单点登录</text><rect fill="#008000" filter="url(#fxm510w4b6e45)" height="36.3887" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="92" x="450" y="433.9434"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="460" y="457.6953">返回登录成功</text><ellipse cx="496" cy="500.332" fill="#FFFFFF" filter="url(#fxm510w4b6e45)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="489.8128" x2="502.1872" y1="494.1448" y2="506.5192"/><line style="stroke:#000000;stroke-width:2.5;" x1="502.1872" x2="489.8128" y1="494.1448" y2="506.5192"/><rect fill="#FF0000" filter="url(#fxm510w4b6e45)" height="36.3887" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="601" y="377.5547"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="611" y="401.3066">返回用户名或密码错误</text><ellipse cx="671" cy="443.9434" fill="#FFFFFF" filter="url(#fxm510w4b6e45)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="664.8128" x2="677.1872" y1="437.7562" y2="450.1305"/><line style="stroke:#000000;stroke-width:2.5;" x1="677.1872" x2="664.8128" y1="437.7562" y2="450.1305"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279.125" x2="279.125" y1="30" y2="50"/><polygon fill="#A80036" points="275.125,40,279.125,50,283.125,40,279.125,44" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="111" x2="111" y1="176.7773" y2="196.7773"/><polygon fill="#A80036" points="107,186.7773,111,196.7773,115,186.7773,111,190.7773" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="311" x2="311" y1="267.166" y2="287.166"/><polygon fill="#A80036" points="307,277.166,311,287.166,315,277.166,311,281.166" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="583.5" x2="583.5" y1="267.166" y2="287.166"/><polygon fill="#A80036" points="579.5,277.166,583.5,287.166,587.5,277.166,583.5,281.166" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="496" x2="496" y1="413.9434" y2="433.9434"/><polygon fill="#A80036" points="492,423.9434,496,433.9434,500,423.9434,496,427.9434" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="496" x2="496" y1="470.332" y2="490.332"/><polygon fill="#A80036" points="492,480.332,496,490.332,500,480.332,496,484.332" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="671" x2="671" y1="413.9434" y2="433.9434"/><polygon fill="#A80036" points="667,423.9434,671,433.9434,675,423.9434,671,427.9434" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="535.5" x2="496" y1="355.5547" y2="355.5547"/><line style="stroke:#A80036;stroke-width:1.5;" x1="496" x2="496" y1="355.5547" y2="377.5547"/><polygon fill="#A80036" points="492,367.5547,496,377.5547,500,367.5547,496,371.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="631.5" x2="671" y1="355.5547" y2="355.5547"/><line style="stroke:#A80036;stroke-width:1.5;" x1="671" x2="671" y1="355.5547" y2="377.5547"/><polygon fill="#A80036" points="667,367.5547,671,377.5547,675,367.5547,671,371.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="583.5" x2="583.5" y1="323.5547" y2="343.5547"/><polygon fill="#A80036" points="579.5,333.5547,583.5,343.5547,587.5,333.5547,583.5,337.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="388.25" x2="311" y1="208.7773" y2="208.7773"/><line style="stroke:#A80036;stroke-width:1.5;" x1="311" x2="311" y1="208.7773" y2="230.7773"/><polygon fill="#A80036" points="307,220.7773,311,230.7773,315,220.7773,311,224.7773" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="506.25" x2="583.5" y1="208.7773" y2="208.7773"/><line style="stroke:#A80036;stroke-width:1.5;" x1="583.5" x2="583.5" y1="208.7773" y2="230.7773"/><polygon fill="#A80036" points="579.5,220.7773,583.5,230.7773,587.5,220.7773,583.5,224.7773" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="447.25" x2="447.25" y1="176.7773" y2="196.7773"/><polygon fill="#A80036" points="443.25,186.7773,447.25,196.7773,451.25,186.7773,447.25,190.7773" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="225.625" x2="111" y1="118.3887" y2="118.3887"/><line style="stroke:#A80036;stroke-width:1.5;" x1="111" x2="111" y1="118.3887" y2="140.3887"/><polygon fill="#A80036" points="107,130.3887,111,140.3887,115,130.3887,111,134.3887" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="332.625" x2="447.25" y1="118.3887" y2="118.3887"/><line style="stroke:#A80036;stroke-width:1.5;" x1="447.25" x2="447.25" y1="118.3887" y2="140.3887"/><polygon fill="#A80036" points="443.25,130.3887,447.25,140.3887,451.25,130.3887,447.25,134.3887" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="279.125" x2="279.125" y1="86.3887" y2="106.3887"/><polygon fill="#A80036" points="275.125,96.3887,279.125,106.3887,283.125,96.3887,279.125,100.3887" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7e8328c94bd60b33dd70354b2d161ce2]
@startuml login-activity
start
:传入用户手机号和对应的密码;
if (传入的参数为空?) then (true)
    #Red:返回提示用户登录的参数不能为空;
    end
else (false)
    :通过手机号查询用户;
    if (查询到的用户为空?) then (true)
        #Red:返回用户名或密码错误;
        end
    else
        :使用返回的用户密码盐对用户的密码进行校验;
        :校验密码是否正确;
        if (密码校验正确?) then (true)
            :生成token用于校验单点登录;
            #Green:返回登录成功;
            end
        else (false)
            #Red:返回用户名或密码错误;
            end
        endif
    endif
endif
@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 GMT+08:00 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>