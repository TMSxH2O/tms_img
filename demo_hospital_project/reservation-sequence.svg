<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="776px" preserveAspectRatio="none" style="width:824px;height:776px;" version="1.1" viewBox="0 0 824 776" width="824px" zoomAndPan="magnify"><defs><filter height="300%" id="fm9372ed4k4ra" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="70.1201" y2="705.4536"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="236" x2="236" y1="70.1201" y2="705.4536"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="351" x2="351" y1="70.1201" y2="705.4536"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="606" x2="606" y1="70.1201" y2="705.4536"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="799" x2="799" y1="70.1201" y2="705.4536"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="5" y="67.0439">预约接口</text><path d="M15.5,23 L15.5,47 M15.5,35 L32.5,35 " fill="none" filter="url(#fm9372ed4k4ra)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="44.5" cy="35" fill="#FEFECE" filter="url(#fm9372ed4k4ra)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="5" y="720.4976">预约接口</text><path d="M15.5,727.5737 L15.5,751.5737 M15.5,739.5737 L32.5,739.5737 " fill="none" filter="url(#fm9372ed4k4ra)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="44.5" cy="739.5737" fill="#FEFECE" filter="url(#fm9372ed4k4ra)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="198" y="67.0439">预约控制类</text><ellipse cx="236" cy="35" fill="#FEFECE" filter="url(#fm9372ed4k4ra)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="232,23,238,18,236,23,238,28,232,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="198" y="720.4976">预约控制类</text><ellipse cx="236" cy="739.5737" fill="#FEFECE" filter="url(#fm9372ed4k4ra)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="232,727.5737,238,722.5737,236,727.5737,238,732.5737,232,727.5737" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fm9372ed4k4ra)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="307" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="314" y="55.0439">预约服务类</text><rect fill="#FEFECE" filter="url(#fm9372ed4k4ra)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="307" y="704.4536"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="314" y="727.4976">预约服务类</text><rect fill="#FEFECE" filter="url(#fm9372ed4k4ra)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="562" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="569" y="55.0439">预约数据类</text><rect fill="#FEFECE" filter="url(#fm9372ed4k4ra)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="562" y="704.4536"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="569" y="727.4976">预约数据类</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="775" y="67.0439">数据库</text><path d="M781,15 C781,5 799,5 799,5 C799,5 817,5 817,15 L817,41 C817,51 799,51 799,51 C799,51 781,51 781,41 L781,15 " fill="#FEFECE" filter="url(#fm9372ed4k4ra)" style="stroke:#000000;stroke-width:1.5;"/><path d="M781,15 C781,25 799,25 799,25 C799,25 817,25 817,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="775" y="720.4976">数据库</text><path d="M781,733.5737 C781,723.5737 799,723.5737 799,723.5737 C799,723.5737 817,723.5737 817,733.5737 L817,759.5737 C817,769.5737 799,769.5737 799,769.5737 C799,769.5737 781,769.5737 781,759.5737 L781,733.5737 " fill="#FEFECE" filter="url(#fm9372ed4k4ra)" style="stroke:#000000;stroke-width:1.5;"/><path d="M781,733.5737 C781,743.5737 799,743.5737 799,743.5737 C799,743.5737 817,743.5737 817,733.5737 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="224,117.6289,234,121.6289,224,125.6289,228,121.6289" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="36" x2="230" y1="121.6289" y2="121.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="43" y="99.0181">预约必要数据:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="43" y="116.7725">用户id、医生id以及预约的时间</text><polygon fill="#A80036" points="339,149.3833,349,153.3833,339,157.3833,343,153.3833" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="236" x2="345" y1="153.3833" y2="153.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="243" y="148.5269">调用预约的方法</text><line style="stroke:#A80036;stroke-width:1.0;" x1="351" x2="393" y1="185.1377" y2="185.1377"/><line style="stroke:#A80036;stroke-width:1.0;" x1="393" x2="393" y1="185.1377" y2="198.1377"/><line style="stroke:#A80036;stroke-width:1.0;" x1="352" x2="393" y1="198.1377" y2="198.1377"/><polygon fill="#A80036" points="362,194.1377,352,198.1377,362,202.1377,358,198.1377" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="358" y="180.2813">校验参数完整</text><polygon fill="#A80036" points="594,225.8921,604,229.8921,594,233.8921,598,229.8921" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="351" x2="600" y1="229.8921" y2="229.8921"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="358" y="225.0356">通过医生id查询医生对象</text><polygon fill="#A80036" points="787,257.6465,797,261.6465,787,265.6465,791,261.6465" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="606" x2="793" y1="261.6465" y2="261.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="613" y="256.79">查询数据库中的医生属性</text><polygon fill="#A80036" points="617,269.6465,607,273.6465,617,277.6465,613,273.6465" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="611" x2="798" y1="273.6465" y2="273.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="623" y="289.5444">返回查询到的结果</text><polygon fill="#A80036" points="362,301.4009,352,305.4009,362,309.4009,358,305.4009" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356" x2="605" y1="305.4009" y2="305.4009"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="368" y="321.2988">拿到对应的医生对象</text><polygon fill="#A80036" points="594,352.9097,604,356.9097,594,360.9097,598,356.9097" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="351" x2="600" y1="356.9097" y2="356.9097"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="358" y="352.0532">通过日期和医生id来查询现有的订单数量</text><polygon fill="#A80036" points="787,384.6641,797,388.6641,787,392.6641,791,388.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="606" x2="793" y1="388.6641" y2="388.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="613" y="383.8076">查询数据库中的预约订单数量</text><polygon fill="#A80036" points="617,396.6641,607,400.6641,617,404.6641,613,400.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="611" x2="798" y1="400.6641" y2="400.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="623" y="416.562">返回查询到的数据数量</text><polygon fill="#A80036" points="362,428.4185,352,432.4185,362,436.4185,358,432.4185" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356" x2="605" y1="432.4185" y2="432.4185"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="368" y="448.3164">现有的订单数量</text><line style="stroke:#A80036;stroke-width:1.0;" x1="351" x2="393" y1="483.9272" y2="483.9272"/><line style="stroke:#A80036;stroke-width:1.0;" x1="393" x2="393" y1="483.9272" y2="496.9272"/><line style="stroke:#A80036;stroke-width:1.0;" x1="352" x2="393" y1="496.9272" y2="496.9272"/><polygon fill="#A80036" points="362,492.9272,352,496.9272,362,500.9272,358,496.9272" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="358" y="479.0708">校验预约医生的容量是否已满</text><polygon fill="#A80036" points="594,524.6816,604,528.6816,594,532.6816,598,528.6816" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="351" x2="600" y1="528.6816" y2="528.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="358" y="523.8252">创建新的订单</text><polygon fill="#A80036" points="787,556.436,797,560.436,787,564.436,791,560.436" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="606" x2="793" y1="560.436" y2="560.436"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="613" y="555.5796">数据库中插入新的数据</text><polygon fill="#A80036" points="617,568.436,607,572.436,617,576.436,613,572.436" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="611" x2="798" y1="572.436" y2="572.436"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="623" y="588.334">插入的结果</text><polygon fill="#A80036" points="362,600.1904,352,604.1904,362,608.1904,358,604.1904" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356" x2="605" y1="604.1904" y2="604.1904"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="368" y="620.0884">插入是否成功</text><polygon fill="#A80036" points="247,631.9448,237,635.9448,247,639.9448,243,635.9448" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="241" x2="350" y1="635.9448" y2="635.9448"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="253" y="651.8428">预约的结果</text><polygon fill="#A80036" points="47,663.6992,37,667.6992,47,671.6992,43,667.6992" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41" x2="235" y1="667.6992" y2="667.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="53" y="683.5972">返回标准结构的结果</text><!--MD5=[bcd1244432d8aec7c29d255d85f4214c]
@startuml reservation-sequence
skinparam responseMessageBelowArrow true
boundary 预约接口 as b
control  预约控制类 as control
participant 预约服务类 as service
participant 预约数据类 as mapper
database 数据库 as bd

b -> control : 预约必要数据:\n用户id、医生id以及预约的时间
control -> service : 调用预约的方法
service -> service : 校验参数完整
service -> mapper : 通过医生id查询医生对象
mapper -> bd : 查询数据库中的医生属性
bd -> mapper : 返回查询到的结果
mapper -> service : 拿到对应的医生对象
service -> mapper : 通过日期和医生id来查询现有的订单数量
mapper -> bd : 查询数据库中的预约订单数量
bd -> mapper : 返回查询到的数据数量
mapper -> service : 现有的订单数量
service -> service : 校验预约医生的容量是否已满
service -> mapper : 创建新的订单
mapper -> bd : 数据库中插入新的数据
bd -> mapper : 插入的结果
mapper -> service : 插入是否成功
service -> control : 预约的结果
control -> b : 返回标准结构的结果

@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 GMT+08:00 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>