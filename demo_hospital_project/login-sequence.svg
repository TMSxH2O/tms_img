<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="549px" preserveAspectRatio="none" style="width:755px;height:549px;" version="1.1" viewBox="0 0 755 549" width="755px" zoomAndPan="magnify"><defs><filter height="300%" id="fzdi89ph75uor" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="70.1201" y2="478.4185"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="164" x2="164" y1="70.1201" y2="478.4185"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="266" x2="266" y1="70.1201" y2="478.4185"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="563" x2="563" y1="70.1201" y2="478.4185"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="730" x2="730" y1="70.1201" y2="478.4185"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="5" y="67.0439">登录接口</text><path d="M15.5,23 L15.5,47 M15.5,35 L32.5,35 " fill="none" filter="url(#fzdi89ph75uor)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="44.5" cy="35" fill="#FEFECE" filter="url(#fzdi89ph75uor)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="5" y="493.4624">登录接口</text><path d="M15.5,500.5386 L15.5,524.5386 M15.5,512.5386 L32.5,512.5386 " fill="none" filter="url(#fzdi89ph75uor)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="44.5" cy="512.5386" fill="#FEFECE" filter="url(#fzdi89ph75uor)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="126" y="67.0439">用户控制类</text><ellipse cx="164" cy="35" fill="#FEFECE" filter="url(#fzdi89ph75uor)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="160,23,166,18,164,23,166,28,160,23" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="126" y="493.4624">用户控制类</text><ellipse cx="164" cy="512.5386" fill="#FEFECE" filter="url(#fzdi89ph75uor)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="160,500.5386,166,495.5386,164,500.5386,166,505.5386,160,500.5386" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fzdi89ph75uor)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="222" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="229" y="55.0439">用户服务类</text><rect fill="#FEFECE" filter="url(#fzdi89ph75uor)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="222" y="477.4185"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="229" y="500.4624">用户服务类</text><rect fill="#FEFECE" filter="url(#fzdi89ph75uor)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="519" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="526" y="55.0439">用户数据类</text><rect fill="#FEFECE" filter="url(#fzdi89ph75uor)" height="33.1201" style="stroke:#A80036;stroke-width:1.5;" width="84" x="519" y="477.4185"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="526" y="500.4624">用户数据类</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="706" y="67.0439">数据库</text><path d="M712,15 C712,5 730,5 730,5 C730,5 748,5 748,15 L748,41 C748,51 730,51 730,51 C730,51 712,51 712,41 L712,15 " fill="#FEFECE" filter="url(#fzdi89ph75uor)" style="stroke:#000000;stroke-width:1.5;"/><path d="M712,15 C712,25 730,25 730,25 C730,25 748,25 748,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="706" y="493.4624">数据库</text><path d="M712,506.5386 C712,496.5386 730,496.5386 730,496.5386 C730,496.5386 748,496.5386 748,506.5386 L748,532.5386 C748,542.5386 730,542.5386 730,542.5386 C730,542.5386 712,542.5386 712,532.5386 L712,506.5386 " fill="#FEFECE" filter="url(#fzdi89ph75uor)" style="stroke:#000000;stroke-width:1.5;"/><path d="M712,506.5386 C712,516.5386 730,516.5386 730,516.5386 C730,516.5386 748,516.5386 748,506.5386 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#A80036" points="152,99.8745,162,103.8745,152,107.8745,156,103.8745" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="36" x2="158" y1="103.8745" y2="103.8745"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="43" y="99.0181">传入手机号、密码</text><polygon fill="#A80036" points="254,131.6289,264,135.6289,254,139.6289,258,135.6289" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="164" x2="260" y1="135.6289" y2="135.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="171" y="130.7725">调用登录方法</text><line style="stroke:#A80036;stroke-width:1.0;" x1="266" x2="308" y1="167.3833" y2="167.3833"/><line style="stroke:#A80036;stroke-width:1.0;" x1="308" x2="308" y1="167.3833" y2="180.3833"/><line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="308" y1="180.3833" y2="180.3833"/><polygon fill="#A80036" points="277,176.3833,267,180.3833,277,184.3833,273,180.3833" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="273" y="162.5269">校验传入的数据是否正确</text><polygon fill="#A80036" points="551,208.1377,561,212.1377,551,216.1377,555,212.1377" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="266" x2="557" y1="212.1377" y2="212.1377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="273" y="207.2813">通过手机号来查询用户对象</text><polygon fill="#A80036" points="718,239.8921,728,243.8921,718,247.8921,722,243.8921" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="563" x2="724" y1="243.8921" y2="243.8921"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="570" y="239.0356">查询数据库中的用户数据</text><polygon fill="#A80036" points="574,251.8921,564,255.8921,574,259.8921,570,255.8921" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="568" x2="729" y1="255.8921" y2="255.8921"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="580" y="271.79">返回查询到的数据</text><polygon fill="#A80036" points="277,283.6465,267,287.6465,277,291.6465,273,287.6465" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="271" x2="562" y1="287.6465" y2="287.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="283" y="303.5444">将查询到的数据包装成用户对象，返回给服务类</text><line style="stroke:#A80036;stroke-width:1.0;" x1="266" x2="308" y1="339.1553" y2="339.1553"/><line style="stroke:#A80036;stroke-width:1.0;" x1="308" x2="308" y1="339.1553" y2="352.1553"/><line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="308" y1="352.1553" y2="352.1553"/><polygon fill="#A80036" points="277,348.1553,267,352.1553,277,356.1553,273,352.1553" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="273" y="334.2988">校验密码是否正确</text><line style="stroke:#A80036;stroke-width:1.0;" x1="266" x2="308" y1="383.9097" y2="383.9097"/><line style="stroke:#A80036;stroke-width:1.0;" x1="308" x2="308" y1="383.9097" y2="396.9097"/><line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="308" y1="396.9097" y2="396.9097"/><polygon fill="#A80036" points="277,392.9097,267,396.9097,277,400.9097,273,396.9097" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="273" y="379.0532">添加用于校验登录的token</text><polygon fill="#A80036" points="175,404.9097,165,408.9097,175,412.9097,171,408.9097" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="169" x2="265" y1="408.9097" y2="408.9097"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="181" y="424.8076">登录的结果</text><polygon fill="#A80036" points="47,436.6641,37,440.6641,47,444.6641,43,440.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41" x2="163" y1="440.6641" y2="440.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="53" y="456.562">返回标准格式结果</text><!--MD5=[c6a1e04f684ebfda5408d4b29c47119e]
@startuml login-sequence
skinparam responseMessageBelowArrow true
boundary 登录接口 as b
control  用户控制类 as control
participant 用户服务类 as service
participant 用户数据类 as mapper
database 数据库 as userbd

b -> control : 传入手机号、密码
control -> service : 调用登录方法
service -> service : 校验传入的数据是否正确
service -> mapper : 通过手机号来查询用户对象
mapper -> userbd : 查询数据库中的用户数据
userbd -> mapper : 返回查询到的数据
mapper -> service : 将查询到的数据包装成用户对象，返回给服务类
service -> service : 校验密码是否正确
service -> service : 添加用于校验登录的token
service -> control : 登录的结果
control -> b : 返回标准格式结果

@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 GMT+08:00 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>